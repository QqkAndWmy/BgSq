import{_ as e}from"./uni-easyinput.DrQNDsNM.js";import{g as a,r as s,d as t,e as o,b as l,h as r,o as n,w as u,a as i,n as m,i as d}from"./index-BpbZ6T0G.js";import{_ as f}from"./uni-forms-item.B8Sdv0Rv.js";import{_ as c}from"./uni-forms.iM4Ojt5W.js";const p={__name:"FeedBackEdit",emits:["reload"],setup(p,{expose:_,emit:v}){const{proxy:g}=a(),h=s({}),x=s(),y={content:{rules:[{required:!0,errorMessage:"请输入问题"}]}},j=v,k=()=>{x.value.validate((async(e,a)=>{if(e)return;const s=Object.assign({},h.value);await g.Request({url:g.Api.sendFeedback,params:s})&&(b(),j("reload"))}))},w=s(),b=()=>{w.value.close()};return _({show:e=>{w.value.show(),m((()=>{h.value=Object.assign({},e)}))},close:b}),(a,s)=>{const m=t(o("uni-easyinput"),e),p=t(o("uni-forms-item"),f),_=t(o("uni-forms"),c),v=l("Dialog"),g=d;return n(),r(g,null,{default:u((()=>[i(v,{title:"问题反馈",ref_key:"dialogRef",ref:w,showCancel:!0,okFun:k,okText:"提交"},{default:u((()=>[i(_,{ref_key:"formDataRef",ref:x,model:h.value,"label-width":"0",rules:y},{default:u((()=>[i(p,{name:"content"},{default:u((()=>[i(m,{type:"textarea",modelValue:h.value.content,"onUpdate:modelValue":s[0]||(s[0]=e=>h.value.content=e),placeholder:"请输入问题",trim:!0,maxlength:500},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},512)])),_:1})}}};export{p as _};
